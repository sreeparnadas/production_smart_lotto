"use strict";(self.webpackChunkaccounts=self.webpackChunkaccounts||[]).push([[228],{5480:function(e,t,o){o.d(t,{q:function(){return c}});var n=o(1095),a=o(9983),i=o(7716);let c=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({imports:[n.ot,a.c]}),e})()},6228:function(e,t,o){o.r(t),o.d(t,{PayoutSettingModule:function(){return E}});var n=o(8583),a=o(3423),i=o(1068),c=o(2340),r=o(2789),u=o(8259),s=o.n(u),l=o(7716),m=o(2567),p=o(5304),f=o(8307),d=o(1841),g=o(4889);let h=(()=>{class e{constructor(e,t){this.http=e,this.errorService=t,this.BASE_API_URL=c.N.BASE_API_URL,this.gameTypes=[],this.http.get(this.BASE_API_URL+"/gameTypes").subscribe(e=>{this.gameTypes=e.data})}updatePayout(e){return this.http.put(this.BASE_API_URL+"/cPanel/game/payout",e).pipe((0,p.K)(this.errorService.serverError),(0,f.b)(e=>{}))}}return e.\u0275fac=function(t){return new(t||e)(l.LFG(d.eN),l.LFG(g.T))},e.\u0275prov=l.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var y=o(3535),Z=o(3679),T=o(1095),A=o(8295),v=o(9983),x=o(5396);function w(e,t){1&e&&(l.TgZ(0,"mat-header-cell"),l._uU(1," No. "),l.qZA())}function q(e,t){if(1&e&&(l.TgZ(0,"mat-cell"),l._uU(1),l.qZA()),2&e){const e=t.$implicit;l.xp6(1),l.hij(" ",e.gameTypeId," ")}}function S(e,t){1&e&&(l.TgZ(0,"mat-header-cell"),l._uU(1," Game "),l.qZA())}function N(e,t){if(1&e&&(l.TgZ(0,"mat-cell"),l._uU(1),l.qZA()),2&e){const e=t.$implicit;l.xp6(1),l.hij(" ",e.gameName," ")}}function _(e,t){1&e&&(l.TgZ(0,"mat-header-cell"),l._uU(1," mrp "),l.qZA())}function C(e,t){if(1&e&&(l.TgZ(0,"mat-cell"),l._uU(1),l.qZA()),2&e){const e=t.$implicit;l.xp6(1),l.hij(" ",e.mrp," ")}}function D(e,t){1&e&&(l.TgZ(0,"mat-header-cell"),l._uU(1," winningPrice "),l.qZA())}function U(e,t){if(1&e&&(l.TgZ(0,"mat-cell"),l._uU(1),l.qZA()),2&e){const e=t.$implicit;l.xp6(1),l.hij(" ",e.winningPrice," ")}}function Y(e,t){1&e&&(l.TgZ(0,"mat-header-cell"),l._uU(1," commission "),l.qZA())}function B(e,t){if(1&e&&(l.TgZ(0,"mat-cell"),l._uU(1),l.qZA()),2&e){const e=t.$implicit;l.xp6(1),l.hij(" ",e.commission," ")}}function L(e,t){1&e&&(l.TgZ(0,"mat-header-cell"),l._uU(1," payout "),l.qZA())}const b=function(){return{standalone:!0}};function P(e,t){if(1&e&&(l.TgZ(0,"mat-cell"),l.TgZ(1,"mat-form-field",21),l.TgZ(2,"input",22),l.NdJ("ngModelChange",function(e){return t.$implicit.payout=e}),l.qZA(),l.qZA(),l.qZA()),2&e){const e=t.$implicit;l.xp6(2),l.Q6J("value",e.payout)("ngModel",e.payout)("ngModelOptions",l.DdM(3,b))}}function k(e,t){1&e&&l._UZ(0,"mat-header-row")}function I(e,t){1&e&&l._UZ(0,"mat-row")}function J(e,t){if(1&e){const e=l.EpF();l.TgZ(0,"div",2),l.TgZ(1,"div",3),l.TgZ(2,"div",4),l.TgZ(3,"mark"),l._uU(4,"Set Payout"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(5,"form",5,6),l.TgZ(7,"mat-table",7,8),l.TgZ(9,"pre"),l._uU(10),l.qZA(),l.ynx(11,9),l.YNc(12,w,2,0,"mat-header-cell",10),l.YNc(13,q,2,1,"mat-cell",11),l.BQk(),l.ynx(14,12),l.YNc(15,S,2,0,"mat-header-cell",10),l.YNc(16,N,2,1,"mat-cell",11),l.BQk(),l.ynx(17,13),l.YNc(18,_,2,0,"mat-header-cell",10),l.YNc(19,C,2,1,"mat-cell",11),l.BQk(),l.ynx(20,14),l.YNc(21,D,2,0,"mat-header-cell",10),l.YNc(22,U,2,1,"mat-cell",11),l.BQk(),l.ynx(23,15),l.YNc(24,Y,2,0,"mat-header-cell",10),l.YNc(25,B,2,1,"mat-cell",11),l.BQk(),l.ynx(26,16),l.YNc(27,L,2,0,"mat-header-cell",10),l.YNc(28,P,3,4,"mat-cell",11),l.BQk(),l.YNc(29,k,1,0,"mat-header-row",17),l.YNc(30,I,1,0,"mat-row",18),l.qZA(),l.qZA(),l.TgZ(31,"div",19),l.TgZ(32,"div",4),l.TgZ(33,"button",20),l.NdJ("click",function(){return l.CHM(e),l.oxw().updateTerminal()}),l._uU(34,"Save"),l.qZA(),l.qZA(),l.qZA(),l.qZA()}if(2&e){const e=l.MAs(6),t=l.oxw();l.xp6(7),l.Q6J("dataSource",t.dataSource),l.xp6(3),l.Oqu(t.dataSource),l.xp6(19),l.Q6J("matHeaderRowDef",t.displayedColumns),l.xp6(1),l.Q6J("matRowDefColumns",t.displayedColumns),l.xp6(3),l.Q6J("disabled",!e.form.valid)}}function Q(e,t){if(1&e){const e=l.EpF();l.TgZ(0,"div",23),l.TgZ(1,"div",24),l.TgZ(2,"mat-slide-toggle",25),l.NdJ("change",function(){l.CHM(e);const t=l.oxw();return t.showDevArea=!t.showDevArea}),l._uU(3),l.qZA(),l.qZA(),l.qZA()}if(2&e){const e=l.oxw();l.xp6(3),l.Oqu(e.showDevArea?"Hide Developer Area":"Show Developer Area")}}function j(e,t){if(1&e&&(l.TgZ(0,"div",23),l.TgZ(1,"div",26),l.TgZ(2,"pre"),l._uU(3),l.ALo(4,"json"),l.qZA(),l.qZA(),l._UZ(5,"div",24),l.qZA()),2&e){const e=l.oxw();l.xp6(3),l.hij("\n        gameTypes = ",l.lcZ(4,1,e.gameTypes),"\n      ")}}const G=[{path:"",canActivate:[i.m],component:(()=>{class e{constructor(e,t,o){this.gameTypeService=e,this.payoutSettingService=t,this.authService=o,this.isProduction=c.N.production,this.showDevArea=!1,this.gameTypes=[],this.displayedColumns=["position","gameTypeName","mrp","winningPrice","commission","payout"],this.gameTypes=this.gameTypeService.getGameType(),this.gameTypeService.getGameTypeListener().subscribe(e=>{this.gameTypes=e,this.dataSource=new r.by(this.gameTypes)}),this.dataSource=new r.by(this.gameTypes)}ngOnInit(){this.gameTypes=this.gameTypeService.getGameType()}updateTerminal(){s().fire({title:"Confirmation",text:"Do you sure to update payout?",icon:"info",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, update It!"}).then(e=>{if(e.isConfirmed){const e=[];for(const t of this.gameTypes)e.push({gameTypeId:t.gameTypeId,newPayout:t.payout});this.payoutSettingService.updatePayout(e).subscribe(e=>{1===e.success?s().fire({position:"top-end",icon:"success",title:"Payout updated",showConfirmButton:!1,timer:1e3}):s().fire({position:"top-end",icon:"error",title:"Validation error",showConfirmButton:!1,timer:3e3})},e=>{console.log("data saving error",e)})}})}}return e.\u0275fac=function(t){return new(t||e)(l.Y36(m.u),l.Y36(h),l.Y36(y.e))},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-payout-setting"]],decls:3,vars:3,consts:[["class","container pt-5",4,"ngIf"],["class","d-flex",4,"ngIf"],[1,"container","pt-5"],["fxLayout","row","fxLayout.xs","column","fxLayoutAlign","start","fxLayoutGap","10px","fxLayoutGap.xs","0",1,"container","mb-3"],[1,"offset-5"],["novalidate",""],["payoutSetForm","ngForm"],[3,"dataSource"],["table",""],["matColumnDef","position"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","gameTypeName"],["matColumnDef","mrp"],["matColumnDef","winningPrice"],["matColumnDef","commission"],["matColumnDef","payout"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],["fxLayout","row","fxLayout.xs","column","fxLayoutAlign","start","fxLayoutGap","10px","fxLayoutGap.xs","0",1,"container","mt-3"],["mat-raised-button","","color","primary","mat-stroked-button","",3,"disabled","click"],["floatLabel","never"],["type","number","name","payout","matInput","","placeholder","payout","required","",3,"value","ngModel","ngModelOptions","ngModelChange"],[1,"d-flex"],[1,"col-3"],[3,"change"],[1,"col-6"]],template:function(e,t){1&e&&(l.YNc(0,J,35,5,"div",0),l.YNc(1,Q,4,1,"div",1),l.YNc(2,j,6,3,"div",1)),2&e&&(l.Q6J("ngIf",t.gameTypes),l.xp6(1),l.Q6J("ngIf",!t.isProduction),l.xp6(1),l.Q6J("ngIf",!t.isProduction&&t.showDevArea))},directives:[n.O5,Z._Y,Z.JL,Z.F,r.BZ,r.w1,r.fO,r.Dz,r.as,r.nj,T.lW,r.ge,r.ev,A.KE,Z.wV,v.Nt,Z.Fj,Z.Q7,Z.JJ,Z.On,r.XQ,r.Gk,x.Rr],pipes:[n.Ts],styles:[""]}),e})()}];let M=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.oAB({type:e}),e.\u0275inj=l.cJS({imports:[[a.Bz.forChild(G)],a.Bz]}),e})();var R=o(7441),F=o(5480);let E=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.oAB({type:e}),e.\u0275inj=l.cJS({imports:[[n.ez,M,r.p0,x.rP,R.LD,Z.u5,Z.UX,v.c,F.q]]}),e})()},1068:function(e,t,o){o.d(t,{m:function(){return i}});var n=o(7716),a=o(3535);let i=(()=>{class e{constructor(e){this.authService=e}canActivate(e,t){return this.authService.isAdmin()}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(a.e))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()}}]);